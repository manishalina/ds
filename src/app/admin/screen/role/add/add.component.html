






<div class="app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header">
        <!-- top header         -->
        <app-menu></app-menu>
        <!-- top header         -->
    
            
    
            <div class="app-main">
                     <!-- side menu code start         -->
                        <app-sidemenu></app-sidemenu>
                    <!-- side menu code end         -->
    
                    <div class="app-main__outer">
                        <div class="app-main__inner">
                            <div class="app-page-title">
                                <div class="page-title-wrapper">
                                    <div class="page-title-heading">
                                        <!-- <div class="page-title-icon">
                                            <i class="pe-7s-car icon-gradient bg-mean-fruit">
                                            </i>
                                        </div> -->
                                        <div>Role List
                                            <!-- <div class="page-title-subheading">This is an example dashboard created using build-in elements and components.
                                            </div> -->
                                        </div>
                                    </div>
                                    <div class="page-title-actions">
                                            <a  class="btn btn-info btn-lg"  routerLink="/role">List</a>
                                    </div>    
                                </div>
                            </div>            
                          
                            <div class="container">
                                
    <!-- <button [style.display]="add_permission?'block':'none'" type="button" class="btn btn-info btn-lg"  (click)="openPopup()">Add</button> -->
    

    <!-- <form [formGroup]="bioSection" (ngSubmit)="callingFunction()">
        {{bioSection.value | json}}
        <h3>Bio Details
    </h3>
    
      <label>
        First Name:
        <input type="text" formControlName="name">
      </label> <br>
  
    <div formGroupName="moduleDetail">
        <h3>Module Details</h3>
    
        <label>
          Stack:
          <input type="text" formControlName="module">
        </label> <br>
        <div formGroupName="permission">
                <h3>permission Details</h3>
            <label>
            Stack:
            <input type="text" formControlName="pr">
            </label> <br>
        </div>
        
    </div>

    <div formGroupName="moduleDetail">
            <h3>Module Details</h3>
        
            <label>
              Stack:
              <input type="text" formControlName="module">
            </label> <br>
            <div formGroupName="permission">
                    <h3>permission Details</h3>
                <label>
                Stack:
                <input type="text" formControlName="pr">
                </label> <br>
            </div>
            
        </div>
    
    <button type="submit" [disabled]="!bioSection.valid">Submit Application</button>
      <p>
        Real-time data: {{ bioSection.value | json }}
      </p>
      <p>
        Your form status is : {{ bioSection.status }}
      </p>
    </form> -->



    <div *ngIf="isValidFormSubmitted" class="submitted"> Form submitted successfully. </div>
<div class="team">
  <form [formGroup]="teamForm" (ngSubmit)="onFormSubmit()">
    <p>Team Name :
      <input formControlName="teamName">
      <br/>
      <label *ngIf="teamName.invalid && isValidFormSubmitted != null && !isValidFormSubmitted" class="error">
        Team name is required.
      </label>
    </p>
    <div class="all-emp">
      <b>Employees in Team:</b>
      <br>
      <label *ngIf="employees.errors?.required && isValidFormSubmitted != null && !isValidFormSubmitted" class="error">
        Add Employees.
      </label>
      <br>
      <div formArrayName="employees">
        <div *ngFor="let emp of employees.controls; let i = index" [formGroupName]="i" class="employee">
          <p>
            <b>Employee : {{i + 1}}</b>
          </p>
          <p>Name :
            <input formControlName="empName">
            <br/>
            <label *ngIf="employees.controls[i].get('empName').errors?.required && isValidFormSubmitted != null && !isValidFormSubmitted"
              class="error">
              Employee name required.
            </label>
          </p>
          <p>Age :
            <input formControlName="age">
            <br/>
            <label *ngIf="employees.controls[i].get('age').errors?.required && isValidFormSubmitted != null && !isValidFormSubmitted"
              class="error">
              Age required.
            </label>
            <label *ngIf="employees.controls[i].get('age').errors?.min && isValidFormSubmitted != null && !isValidFormSubmitted" class="error">
              Minimum age is 21.
            </label>
          </p>
          <p>Skill :
            <select formControlName="skill">
              <option *ngFor="let skill of allSkills | async" [ngValue]="skill.name">
                {{ skill.displayName }}
              </option>
            </select>
            <br/>
            <label *ngIf="employees.controls[i].get('skill').errors?.required && isValidFormSubmitted != null && !isValidFormSubmitted"
              class="error">
              Select skill.
            </label>
          </p>
          <p>
            <button type="button" (click)="deleteEmployee(idx)">Delete</button>
          </p>
        </div>
      </div>
      
      <button type="button" (click)="addEmployee()">Add More Employee</button>
    </div>
    <br/>
    <button>SUBMIT</button>
    <button type="button" (click)="resetTeamForm()">RESET</button>
  </form>
</div> 

    <form class="form-horizontal" #roleForm="ngForm" (ngSubmit)="onSubmit()">
    <!-- <hr/> -->
    {{data | json }}
    <br>
    {{roleForm.value | json }}
    <br>
    {{userModel | json }}

    <div class="row form-group">
    <div class="col-sm-12 form-group">
    <label>Role Name</label>
    <input type="email" class="form-control" name="name" required="" [(ngModel)]="userModel.name" #name="ngModel">
    <span class="text text-danger" *ngIf="name.invalid">Invalid value</span>
    </div>

    </div>
    <div *ngFor ="let module of modules;index as i;">
        <div class="row">
            <div class="">
                <div class="position-relative form-check ml-2">
                <input name="check" id="exampleCheck" type="checkbox" class="form-check-input" value="{{module._id}}" (click)="getModuleData($event.target.value)" >
                <label for="exampleCheck" class="form-check-label">{{module.name}}</label>
                </div>
            </div>
        </div>
        <div class="row form-group" >
                <div class="position-relative form-check ml-2"  *ngFor ="let permission of permissions;index as i;">
                    <input name="check" id="exampleCheck" type="checkbox"  value="{{permission._id}}" class="form-check-input" (click)="getPermissionData($event.target.value)">
                    <label for="exampleCheck" class="form-check-label">{{permission.name}}</label>
                </div>
                
        </div>
    </div>

    <!-- <div class="row">
            <div class="">
                <div class="position-relative form-check ml-2">
                <input name="check" id="exampleCheck" type="checkbox" class="form-check-input">
                <label for="exampleCheck" class="form-check-label">Check me out</label>
                </div>
            </div>
    </div>
    <div class="row form-group">
            <div class="position-relative form-check ml-2">
                <input name="check" id="exampleCheck" type="checkbox" class="form-check-input">
                <label for="exampleCheck" class="form-check-label">Check me out</label>
            </div>
            <div class="position-relative form-check ml-2">
                <input name="check" id="exampleCheck" type="checkbox" class="form-check-input">
                <label for="exampleCheck" class="form-check-label">Check me out</label>
            </div>
            <div class="position-relative form-check ml-2">
                <input name="check" id="exampleCheck" type="checkbox" class="form-check-input">
                <label for="exampleCheck" class="form-check-label">Check me out</label>
            </div>
            <div class="position-relative form-check ml-2">
                    <input name="check" id="exampleCheck" type="checkbox" class="form-check-input">
                    <label for="exampleCheck" class="form-check-label">Check me out</label>
            </div>
    </div> -->

    <div class="col-sm-12">
    <button [disabled]="roleForm.invalid" class="btn btn-primary">Save</button>
    </div>
    </form>  
    
                        
      
                                 
                                </div>
                          </div>
                        
                        
                        <app-footer></app-footer>  
    
                    </div>
                    <!-- <script src="http://maps.google.com/maps/api/js?sensor=true"></script> -->
            </div>
        </div>
    